/**
 * Kirat Singh Portfolio Script (script.js)
 * Includes skill bar animation only. Section highlighting and scroll effects removed.
 */

// --- 1. Utility Function for Throttling ---
const throttle = (func, limit) => {
    let inThrottle;
    return function() {
        const args = arguments;
        const context = this;
        if (!inThrottle) {
            func.apply(context, args);
            inThrottle = true;
            setTimeout(() => inThrottle = false, limit);
        }
    }
}

// 2. Animate skill progress bars
function animateProgressBars() {
    document.querySelectorAll('.progress-bar').forEach(bar => {
        const rect = bar.getBoundingClientRect();
        // Check if the element is in the viewport
        const inView = rect.top < window.innerHeight && rect.bottom > 0;
        
        if (inView && !bar.classList.contains('animated')) {
            const percent = bar.getAttribute('data-percent');
            bar.querySelector('.bar').style.width = percent + '%';
            bar.classList.add('animated');
        }
    });
}

// 3. Highlight section in view (FUNCTION REMOVED - not needed for minimalist design)
// The function highlightSection() is no longer called or defined.

// 4. Run on scroll and load (using throttling for efficiency)
const scrollHandler = throttle(() => {
    animateProgressBars();
    // Removed highlightSection() call
}, 100);

window.addEventListener('scroll', scrollHandler);

window.addEventListener('load', () => { 
    animateProgressBars();
    // Removed highlightSection() call
});
